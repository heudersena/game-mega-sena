"use strict";var y=Object.create;var c=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var d=(s,r)=>c(s,"name",{value:r,configurable:!0});var g=(s,r)=>{for(var e in r)c(s,e,{get:r[e],enumerable:!0})},f=(s,r,e,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of D(r))!S.call(s,t)&&t!==e&&c(s,t,{get:()=>r[t],enumerable:!(a=x(r,t))||a.enumerable});return s};var E=(s,r,e)=>(e=s!=null?y(H(s)):{},f(r||!s||!s.__esModule?c(e,"default",{value:s,enumerable:!0}):e,s)),N=s=>f(c({},"__esModule",{value:!0}),s);var h=(s,r,e)=>new Promise((a,t)=>{var U=o=>{try{p(e.next(o))}catch(u){t(u)}},P=o=>{try{p(e.throw(o))}catch(u){t(u)}},p=o=>o.done?a(o.value):Promise.resolve(o.value).then(U,P);p((e=e.apply(s,r)).next())});var A={};g(A,{UsuariosCRUDDatabase:()=>b});module.exports=N(A);var l=require("@prisma/client"),m=new l.PrismaClient;m.$disconnect();var w=E(require("bcrypt"));var n,C=(n=class{static CreatedHash(r){return h(this,null,function*(){let e=w.default.genSaltSync(10);return w.default.hashSync(r,e)})}},d(n,"PasswordHash"),n);var i,b=(i=class{static CreateNewUser(r,e){return h(this,null,function*(){try{if(r==""||e=="")return{error:"Preencha todos os campos"};if(yield m.user.findFirst({where:{email:r}}))return{error:"usu\xE1rio j\xE1 cadastrado."};let t=yield C.CreatedHash(e);return yield m.user.create({data:{email:r,password:t,code_ref_user:"ADM1904KUP",access_role:"SUPERADMIN"}})}catch(a){return a}})}},d(i,"UsuariosCRUDDatabase"),i);0&&(module.exports={UsuariosCRUDDatabase});
