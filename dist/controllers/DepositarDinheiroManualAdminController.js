"use strict";var u=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var n=(a,r)=>u(a,"name",{value:r,configurable:!0});var D=(a,r)=>{for(var e in r)u(a,e,{get:r[e],enumerable:!0})},f=(a,r,e,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of S(r))!w.call(a,s)&&s!==e&&u(a,s,{get:()=>r[s],enumerable:!(o=A(r,s))||o.enumerable});return a};var y=a=>f(u({},"__esModule",{value:!0}),a);var p=(a,r,e)=>new Promise((o,s)=>{var i=t=>{try{l(e.next(t))}catch(b){s(b)}},h=t=>{try{l(e.throw(t))}catch(b){s(b)}},l=t=>t.done?o(t.value):Promise.resolve(t.value).then(i,h);l((e=e.apply(a,r)).next())});var C={};D(C,{DepositarDinheiroManualAdminController:()=>k});module.exports=y(C);var _=require("@prisma/client"),d=new _.PrismaClient;d.$disconnect();var m,N=(m=class{static depositar(r){return p(this,null,function*(){let e=yield d.award.findFirst({where:{is_completed:"IN_PROCESSING"},orderBy:{gamer_ref:"desc"},take:1}),o=e==null?void 0:e.id,s=Number(e==null?void 0:e.subtract_premiums)+Number(r),i=yield d.award.update({where:{id:o},data:{subtract_premiums:s,seine:Number(s)*75/100,corner:Number(s)*15/100,block:Number(s)*10/100,home_deposit:Number(r)}});return console.log(i),i})}},n(m,"DepositarDinheiroManualAdminServices"),m);var c,k=(c=class{static create(r,e){return p(this,null,function*(){var o;try{let{amount:s}=(o=r.body)!=null?o:50,i=yield N.depositar(Number(s));return r.io.emit("/BUSCAR_VALORES_APOSTA",{subtract_premiums:i==null?void 0:i.subtract_premiums,seine:i==null?void 0:i.seine,corner:i==null?void 0:i.corner,block:i==null?void 0:i.block}),e.json(i)}catch(s){return e.json(s)}})}},n(c,"DepositarDinheiroManualAdminController"),c);0&&(module.exports={DepositarDinheiroManualAdminController});
