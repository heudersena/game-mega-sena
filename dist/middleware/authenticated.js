"use strict";var u=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var c=(t,r)=>u(t,"name",{value:r,configurable:!0});var U=(t,r)=>{for(var e in r)u(t,e,{get:r[e],enumerable:!0})},T=(t,r,e,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of p(r))!A.call(t,s)&&s!==e&&u(t,s,{get:()=>r[s],enumerable:!(o=m(r,s))||o.enumerable});return t};var h=t=>T(u({},"__esModule",{value:!0}),t);var R=(t,r,e)=>new Promise((o,s)=>{var S=n=>{try{a(e.next(n))}catch(O){s(O)}},C=n=>{try{a(e.throw(n))}catch(O){s(O)}},a=n=>n.done?o(n.value):Promise.resolve(n.value).then(S,C);a((e=e.apply(t,r)).next())});var f={};U(f,{Auth:()=>M});module.exports=h(f);var i=require("jsonwebtoken");var j="OPERA\xC7\xC3O EXECUTADA COM SUCESSO.".trim(),E="OPS! OCORREU ALGUM ERRO NO SISTEMA.".trim();var M=c((t,r,e)=>R(void 0,null,function*(){let o=t.headers.authorization;if(!o)return r.status(401).json({err:!0,jwt:!0,message:E});let[,s]=o.split(" ");try{let S=(0,i.verify)(s,String(process.env.JWT_STRING));return console.log(JSON.parse(S.user)),t.user=JSON.parse(S.user),e()}catch(S){return r.status(401).json({err:!0,jwt:!0,message:E+"CATCH"})}}),"Auth");0&&(module.exports={Auth});
